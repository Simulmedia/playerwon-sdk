# PlayerWON Unity SDK Documentation


## PlayerWON.ClientDetails


### Description

Class to store client details, generated by the developer, and passed into the API call, to retrieve an opportunity.


### Declaration


```
public ClientDetails(SupportedCountries _country, string _idfa, PlatformType _plat, SupportedLanguages _lang, string _ip = null, int _w = 0, int _h = 0, string _pid = null, PlayerIDType _pidType = PlayerIDType.Unknown, string _device = null, int _coppa = 0, int _underage = 0, int _age = 0, string _slot_id = null, int _ls = 0, Currency _lsv = null, CurrencyArray _rv = null, int _gs = 0
)
```



### Parameters


<table>
  <tr>
   <th>Field Type</th>
   <th>Field Name</th>
   <th>Description</th>
  </tr>
  <tr>
   <td>SupportedCountries</td>
   <td>_country</td>
   <td>Player's/client’s country</td>
  </tr>
  <tr>
   <td>string</td>
   <td>_idfa</td>
   <td>Player's/Client's Unique Identifier (not Gamertag)</td>
  </tr>
  <tr>
   <td>PlatformType</td>
   <td>_plat</td>
   <td>Player's/Client's gaming platform: android, ios, mac, pc, ps, switch, xbox, unknown</td>
  </tr>
  <tr>
   <td>SupportedLanguages</td>
   <td>_lang</td>
   <td>Player's/Client's language</td>
  </tr>
  <tr>
   <td>string</td>
   <td>_ip</td>
   <td>Player’s/Client's IP address</td>
  </tr>
  <tr>
   <td>int</td>
   <td>_w</td>
   <td>Width of the screen in pixels</td>
  </tr>
  <tr>
   <td>int</td>
   <td>_h</td>
   <td>Height of the screen in pixels</td>
  </tr>
  <tr>
   <td>string</td>
   <td>_pid</td>
   <td>Player's/Client's Gamertag</td>
  </tr>
  <tr>
   <td>PlayerIDType</td>
   <td>_pid_type</td>
   <td>Gamertag type (e.g. Microsoft, Steam, Epic)</td>
  </tr>
  <tr>
   <td>string</td>
   <td>_device</td>
   <td>Player's/client’s device name</td>
  </tr>
  <tr>
   <td>int</td>
   <td>_coppa</td>
   <td>Player's age: 0 = player is 13+, 1 = player is under the age of 13</td>
  </tr>
  <tr>
   <td>int</td>
   <td>_underage</td>
   <td>Player underage indicator: 0 = player is not underage, 1 = player is underage</td>
  </tr>
  <tr>
   <td>int</td>
   <td>_age</td>
   <td>Player’s age, in years</td>
  </tr>
  <tr>
   <td>string</td>
   <td>_slot_id</td>
   <td>Game-specific value provided by PlayerWON</td>
  </tr>
  <tr>
   <td>int</td>
   <td>_ls</td>
   <td>Lifetime spender: 0 = player has not made in-game purchages with real currency, 1 = player has made in-game purchases with real currency, at some point in time</td>
  </tr>
  <tr>
   <td>Currency</td>
   <td>_lsv</td>
   <td>Lifetime spend value. The currency value amount the player/client has spent in-game</td>
  </tr>
  <tr>
   <td>CurrencyArray</td>
   <td>_rv</td>
   <td>An array of in-game rewards the player will receive for watching an ad</td>
  </tr>
  <tr>
   <td>int</td>
   <td>_gs</td>
   <td>Game Server indicator: 0 = call is not being made from game server, 1 = call is being made from a game server</td>
  </tr>
</table>



## PlayerWON.SupportedCountries


### Description

Enumeration of supported countries.


### Declaration


```
public enum SupportedCountries
```



## PlayerWON.PlatformType


### Description

Enumeration of supported platforms.


### Declaration


```
public enum PlatformType
```



## PlayerWON.SupportedLanguages


### Description

Enumeration of supported languages.


### Declaration


```
public enum SupportedLanguages
```



## PlayerWON.Gender


### Description

Enumeration used to indicate player's preferred gender identity.


### Declaration


```
public enum Gender
```



## PlayerWON.CurrencyType


### Description

Enumeration of supported currency types.


### Declaration


```
public enum CurrencyType
```



## PlayerWON.SupportedCurrencies


### Description

Enumeration of supported currencies.


### Declaration


```
public enum SupportedCurrencies
```



## PlayerWON.PlayerIDType


### Description

Enumeration of supported PlayerID types.


### Declaration


```
public enum PlayerIDType
```



## PlayerWON.OpportunityAbortReasons


### Description

Enumeration of reasons for aborting an opportunity playback.


### Declaration


```
public enum OpportunityAbortReasons
```



## PlayerWON.Opportunity


### Description

Class to contain data retrieved from the API in the `/opportunity` call, which includes the creative URL and receipt token.


### Declaration


```
public class Opportunity
```



### Properties


<table>
  <tr>
   <th>Field Visibility</th>
   <th>Field Name</th>
   <th>Description</th>
  </tr>
  <tr>
   <td>public</td>
   <td>CreativeURL</td>
   <td>Creative URL</td>
  </tr>
  <tr>
   <td>public</td>
   <td>Length</td>
   <td>Length of the creative (in seconds)</td>
  </tr>
  <tr>
   <td>public</td>
   <td>Receipt</td>
   <td>Receipt token for the creative</td>
  </tr>
</table>



## PlayerWON.Currency


### Description

Class that describes currency


### Declaration


```
public Currency(SupportedCurrencies currency, int value, int digits, CurrencyType type, string currencyName = null)
```



### Parameters


<table>
  <tr>
    <th>Field Type</th>
    <th>Field Name</th>
    <th>Description</th>
  </tr>
  <tr>
   <td>SupportedCurrencies</td>
   <td>currency</td>
   <td>Currency name</td>
  </tr>
  <tr>
   <td>int</td>
   <td>value</td>
   <td>The number of currency units.</td>
  </tr>
  <tr>
   <td>int</td>
   <td>digits</td>
   <td>The number digits of `value` to place, after the decimal point.</td>
  </tr>
  <tr>
   <td>CurrencyType</td>
   <td>type</td>
   <td>The type of currency</td>
  </tr>
  <tr>
   <td>string</td>
   <td>currencyName</td>
   <td>(<strong>Optional</strong>) An optional string that will be used if currency is set to InGame.</td>
  </tr>
</table>

**Examples**:
- To indicate $100.00 USD:
  - currency: `SupportedCurrencies.United_States_Dollar`
  - value: `10000`
  - digits: `2`
  - type: `CurrencyType.Real`
  - currencyName: `NULL`
- To indicate 123.456 in-game "Unicorn Kopeks":
  - currency: `SupportedCurrencies.In_Game`
  - value: `123456`
  - digits: `3`
  - type: `CurrencyType.Virtual`
  - currencyName: `"Unicorn Kopeks"`

## PlayerWON.CurrencyArray


### Description

Class that contains a list of currencies.


### Properties


<table>
  <tr>
   <th>Field Type</th>
   <th>Field Name</th>
   <th>Description</th>
  </tr>
  <tr>
   <td>List&lt;Currency></td>
   <td>Currencies</td>
   <td>The list of currencies the CurrencyArray holds</td>
  </tr>
</table>



### Declaration


```
public CurrencyArray(List<Currency> cur)
```



```
public CurrencyArray()
```



## PlayerWON.SessionDetails


### Description

Class to contain details about the player's/client’s session


### Declaration


```
public SessionDetails(SupportedCountries _country, PlatformType _plat, SupportedLanguages _lang, string _pid = null, PlayerIDType _pid_type = PlayerIDType.Unknown, string _device = null, int _coppa = 0, int _underage = 0, int _age = 0, int _min_age = 0, int _max_age = 0, Gender _gg = Gender.n, int _ls = 0, Currency _lsv = null, string _psd = null, int _gs = 0)
```



### Parameters


<table>
  <tr>
   <th>Field Type</th>
   <th>Field Name</th>
   <th>Description</th>
  </tr>
  <tr>
   <td>SupportedCountries</td>
   <td>_country</td>
   <td>Player's country</td>
  </tr>
  <tr>
   <td>PlatformType</td>
   <td>_plat</td>
   <td>Player's gaming platform</td>
  </tr>
  <tr>
   <td>SupportedLanguages</td>
   <td>_lang</td>
   <td>Player's language</td>
  </tr>
  <tr>
   <td>string</td>
   <td>_pid</td>
   <td>Player's Gamertag</td>
  </tr>
  <tr>
   <td>PlayerIDType</td>
   <td>_pid_type</td>
   <td>Player's Gamertag type</td>
  </tr>
  <tr>
   <td>string</td>
   <td>_device</td>
   <td>Player's device</td>
  </tr>
  <tr>
   <td>int</td>
   <td>_coppa</td>
   <td>0 indicates the player is 13 and above, 1 indicates the player is under the age of 13</td>
  </tr>
  <tr>
   <td>int</td>
   <td>_underage</td>
   <td>0 indicates the player is underage</td>
  </tr>
  <tr>
   <td>int</td>
   <td>_age</td>
   <td>The player’s age in years</td>
  </tr>
  <tr>
   <td>int</td>
   <td>_min_age</td>
   <td>The minimum age the player can be</td>
  </tr>
  <tr>
   <td>int</td>
   <td>_max_age</td>
   <td>The maximum age the player can be</td>
  </tr>
  <tr>
   <td>Gender</td>
   <td>_gg</td>
   <td>The player/client’s gender</td>
  </tr>
  <tr>
   <td>int</td>
   <td>_ls</td>
   <td>Lifetime Spending. 1 indicates the player has spent real money in-game in their lifetime. 0 indicates they have not.</td>
  </tr>
  <tr>
   <td>Currency</td>
   <td>_lsv</td>
   <td>Lifetime Spending Value. The value the player/client has spent in-game</td>
  </tr>
  <tr>
   <td>string</td>
   <td>_psd</td>
   <td>The date the player played the game, written as "yyyy-mm-dd"</td>
  </tr>
  <tr>
   <td>int</td>
   <td>_gs</td>
   <td>1 indicates the calls are being made from a game server, 0 indicates they are not being made from a game server</td>
  </tr>
</table>



## PlayerWON.Bridge


### Description

A monobehaviour that acts as the main driver for the PlayerWON SDK. All API calls, functionality, and error handling are handled by the Bridge.


### Declaration


```
public class Bridge : MonoBehaviour
```



### Properties


<table>
  <tr>
   <th>Field Type</th>
   <th>Field Name</th>
   <th>Description</th>
  </tr>
  <tr>
   <td>PlayerWON.Bridge</td>
   <td>Instance</td>
   <td>Gets the singleton instance of the PlayerWON.Bridge</td>
  </tr>
  <tr>
   <td>bool</td>
   <td>dontDestroyOnLoad</td>
   <td>If set to true, the Bridge will exist between scenes until it is manually destroyed or the game instance has stopped running. <strong>Only editable via inspector.</strong></td>
  </tr>
  <tr>
   <td>bool</td>
   <td>sendPlayerWONTelemetry</td>
   <td>If set to true, the Bridge will send error reports, initialization reports, and general data reports to PlayerWON. <strong>Only editable via inspector.</strong></td>
  </tr>
  <tr>
   <td>RenderTexture</td>
   <td>renderTexture</td>
   <td>The render texture the VideoPlayer will use to display the ads. <strong>Only editable via inspector.</strong></td>
  </tr>
</table>



## Inspector Driven Events


### Description

These are events that are only accessible via the inspector on the Bridge


<table>
  <tr>
   <th>Field Type(s)</th>
   <th>Field Name</th>
   <th>Description</th>
  </tr>
  <tr>
   <td>AuthorizationToken</td>
   <td>AuthorizationSuccessful</td>
   <td>Event that is invoked when authorization from the API has been achieved</td>
  </tr>
  <tr>
   <td>Opportunity</td>
   <td>OpportunityEvent</td>
   <td>Event that is invoked when an Opportunity has been successfully retrieved from the API</td>
  </tr>
  <tr>
   <td>AuthorizationToken,<p>Opportunity</td>
   <td>StartEvent</td>
   <td>Event that is invoked when the ad has started playing</td>
  </tr>
  <tr>
   <td>AuthorizationToken,<p>Opportunity</td>
   <td>ProgressEvent</td>
   <td>Event that is invoked when the ad has reached the 25%, 50%, and 75% marks of the it’s playback.</td>
  </tr>
  <tr>
   <td>AuthorizationToken,<p>Opportunity</td>
   <td>CompleteEvent</td>
   <td>Event that is invoked when the ad has completed playback</td>
  </tr>
  <tr>
   <td>AuthorizationToken,<p>Opportunity,<p>String,<p>int</td>
   <td>AbortEvent</td>
   <td>Event that is invoked when the ad has been aborted</td>
  </tr>
  <tr>
   <td>void</td>
   <td>VideoPrepared</td>
   <td>Event that is invoked when the ad has been prepared in the VideoPlayer</td>
  </tr>
  <tr>
   <td>string</td>
   <td>Error</td>
   <td>Event that is invoked when an error has occurred within the SDK</td>
  </tr>
</table>


### Methods

Play the ad.


```
public void PlayOpportunity()
```


Stop the ad.


```
public void StopOpportunity(int reason)
```


Provide PlayerWON with initial telemetry data.


```
public void Init(string idfa, string unity_ver, string gametitle_id)
```


Make `/session` API call. This should be called at least once per play session.


```
public void CallSession(SessionDetails details, AuthorizationToken token = null)
```


Authorize client to request ads (authorization details must be specified by game server).


```
public void AuthorizeClient(string serverURL)
```


Request an ad.


```
public void RetrieveOpportunityFromAPI(ClientDetails clientDetails)
```


Set the internal reference for the ClientDetails.


```
public void SetClientDetails(ClientDetails details)
```


Get percentage of time left in the ad, as float (rounded down to nearest integer).


```
public float TimeLeftInOpportunityFloored()
```


Get percentage of time left in the ad, as float.


```
public float TimeLeftInOpportunityRaw()
```


**PlayerWon.Telemetry**

Description

Class to contain PlayerWON errors, and other telemetry data, powered by the `sendTelemetryData` boolean, in the inspector of the Bridge.

**Methods**

Invoke Unity error, with a given error message. Developers can catch the error message by subscribing to the error event.


```
public void InvokeError(string errorMessage)
```
